<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Option A3 - Cascading Dropdown Budget Form</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body {
            font-family: 'Noto Sans Thai', sans-serif;
        }

        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        input[type="number"] {
            -moz-appearance: textfield;
            appearance: textfield;
        }

        .collapse-icon {
            transition: transform 0.3s ease;
        }

        .collapse-icon.rotated {
            transform: rotate(-90deg);
        }

        .category-hidden {
            display: none;
        }

        .budget-section {
            transition: all 0.3s ease;
        }

        .step-active {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(59, 130, 246, 0.05) 100%);
            border-color: rgb(59, 130, 246);
        }

        .step-completed {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.05) 100%);
            border-color: rgb(34, 197, 94);
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: { 50: '#eff6ff', 100: '#dbeafe', 200: '#bfdbfe', 300: '#93c5fd', 400: '#60a5fa', 500: '#3b82f6', 600: '#2563eb', 700: '#1d4ed8', 800: '#1e40af', 900: '#1e3a8a' }
                    }
                }
            }
        }
    </script>
</head>

<body class="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-slate-100">
    <div class="max-w-7xl mx-auto px-6 py-8">

        <!-- Header -->
        <div class="mb-8">
            <h1 class="text-2xl font-bold text-slate-100 flex items-center gap-3">
                <i data-lucide="file-text" class="w-7 h-7 text-primary-400"></i>
                Option A3: Cascading Dropdown - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ö‡∏¥‡∏Å‡∏à‡πà‡∏≤‡∏¢‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì
            </h1>
            <p class="text-slate-400 mt-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô ‚Üí ‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï ‚Üí ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ö‡∏¥‡∏Å‡∏à‡πà‡∏≤‡∏¢</p>
        </div>

        <!-- Main Form Card -->
        <div class="bg-slate-900/50 backdrop-blur-sm border border-slate-700 rounded-xl p-6 shadow-2xl">

            <!-- Step Indicator -->
            <div class="flex items-center gap-2 mb-6 pb-6 border-b border-slate-700">
                <div class="flex items-center gap-2 px-4 py-2 rounded-lg border step-completed" id="step1">
                    <span
                        class="w-6 h-6 flex items-center justify-center rounded-full bg-emerald-500 text-white text-sm font-bold">‚úì</span>
                    <span class="text-emerald-300 font-medium">‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô</span>
                </div>
                <i data-lucide="chevron-right" class="w-5 h-5 text-slate-500"></i>
                <div class="flex items-center gap-2 px-4 py-2 rounded-lg border step-completed" id="step2">
                    <span
                        class="w-6 h-6 flex items-center justify-center rounded-full bg-emerald-500 text-white text-sm font-bold">‚úì</span>
                    <span class="text-emerald-300 font-medium">‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï/‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</span>
                </div>
                <i data-lucide="chevron-right" class="w-5 h-5 text-slate-500"></i>
                <div class="flex items-center gap-2 px-4 py-2 rounded-lg border step-completed" id="step3">
                    <span
                        class="w-6 h-6 flex items-center justify-center rounded-full bg-emerald-500 text-white text-sm font-bold">‚úì</span>
                    <span class="text-emerald-300 font-medium">‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</span>
                </div>
                <i data-lucide="chevron-right" class="w-5 h-5 text-slate-500"></i>
                <div class="flex items-center gap-2 px-4 py-2 rounded-lg border step-active" id="step4">
                    <span
                        class="w-6 h-6 flex items-center justify-center rounded-full bg-primary-500 text-white text-sm font-bold">4</span>
                    <span class="text-primary-300 font-medium">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</span>
                </div>
            </div>

            <!-- Cascading Dropdowns -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">

                <!-- ‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô -->
                <div>
                    <label class="block text-sm font-medium text-slate-300 mb-2">
                        <i data-lucide="layout-grid" class="w-4 h-4 inline mr-1 text-blue-400"></i>
                        ‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô
                    </label>
                    <select
                        class="w-full px-4 py-2.5 bg-slate-800 border border-slate-600 rounded-lg text-slate-100 focus:border-primary-500 focus:outline-none"
                        onchange="updateProducts()">
                        <option value="1" selected>‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£‡∏†‡∏≤‡∏Ñ‡∏£‡∏±‡∏ê</option>
                        <option value="2">‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏®‡∏±‡∏Å‡∏¢‡∏†‡∏≤‡∏û‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡πå</option>
                        <option value="3">‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô‡∏¢‡∏∏‡∏ó‡∏ò‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</option>
                        <option value="4">‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô‡∏¢‡∏∏‡∏ó‡∏ò‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</option>
                        <option value="5">‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô‡∏ö‡∏π‡∏£‡∏ì‡∏≤‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏ï‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏∏‡∏à‡∏£‡∏¥‡∏ï‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏û‡∏§‡∏ï‡∏¥‡∏°‡∏¥‡∏ä‡∏≠‡∏ö</option>
                        <option value="6">‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡∏µ‡πâ‡∏†‡∏≤‡∏Ñ‡∏£‡∏±‡∏ê</option>
                        <option value="7">‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏≠‡∏∑‡πà‡∏ô</option>
                    </select>
                </div>

                <!-- ‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï/‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ -->
                <div>
                    <label class="block text-sm font-medium text-slate-300 mb-2">
                        <i data-lucide="folder" class="w-4 h-4 inline mr-1 text-emerald-400"></i>
                        ‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï/‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£
                    </label>
                    <select id="product-select"
                        class="w-full px-4 py-2.5 bg-slate-800 border border-slate-600 rounded-lg text-slate-100 focus:border-primary-500 focus:outline-none"
                        onchange="updateActivities()">
                        <option value="1" selected>‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏ó‡∏µ‡πà 1: ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£‡∏†‡∏≤‡∏Ñ‡∏£‡∏±‡∏ê</option>
                        <option value="2">‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏ó‡∏µ‡πà 2: ‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</option>
                    </select>
                </div>

                <!-- ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° -->
                <div>
                    <label class="block text-sm font-medium text-slate-300 mb-2">
                        <i data-lucide="activity" class="w-4 h-4 inline mr-1 text-amber-400"></i>
                        ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°
                    </label>
                    <select id="activity-select"
                        class="w-full px-4 py-2.5 bg-slate-800 border border-slate-600 rounded-lg text-slate-100 focus:border-primary-500 focus:outline-none"
                        onchange="updateExpenseTypes()">
                        <option value="1" selected>‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà 1: ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</option>
                        <option value="2">‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà 2: ‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£</option>
                        <option value="3">‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà 3: ‡∏á‡∏≤‡∏ô‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</option>
                    </select>
                </div>
            </div>

            <!-- Recording Info -->
            <div
                class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 p-4 bg-slate-800/50 rounded-lg border border-slate-700">
                <div>
                    <label class="block text-sm font-medium text-slate-400 mb-1">‡∏õ‡∏µ‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì</label>
                    <span class="text-lg font-semibold text-slate-100">2568</span>
                </div>
                <div>
                    <label class="block text-sm font-medium text-slate-400 mb-1">‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</label>
                    <select class="px-3 py-1.5 bg-slate-700 border border-slate-600 rounded text-slate-100 text-sm">
                        <option>‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2567</option>
                        <option>‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô 2567</option>
                        <option selected>‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° 2567</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-slate-400 mb-1">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</label>
                    <input type="date" value="2024-12-28"
                        class="px-3 py-1.5 bg-slate-700 border border-slate-600 rounded text-slate-100 text-sm">
                </div>
                <div>
                    <label class="block text-sm font-medium text-slate-400 mb-1">‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà</label>
                    <span class="text-lg font-semibold text-primary-400">3 / 5</span>
                </div>
            </div>

            <!-- Expense Types Table -->
            <div class="space-y-4">

                <!-- ‡∏á‡∏ö‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£ -->
                <div class="rounded-lg overflow-hidden border border-slate-700/50">
                    <div class="bg-gradient-to-r from-blue-900/40 to-slate-800/40 px-4 py-3 cursor-pointer hover:bg-slate-700/50 transition-colors"
                        onclick="toggleExpenseType('budget-personnel')">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-3">
                                <i data-lucide="chevron-down" class="w-5 h-5 text-blue-400 collapse-icon"
                                    id="icon-budget-personnel"></i>
                                <i data-lucide="users" class="w-5 h-5 text-blue-400"></i>
                                <span class="text-lg font-semibold text-blue-300">‡∏á‡∏ö‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£</span>
                                <span class="text-xs text-slate-500">(2 ‡∏´‡∏°‡∏ß‡∏î)</span>
                            </div>
                            <div class="flex items-center gap-6 text-sm">
                                <span class="text-slate-400">‡∏á‡∏ö‡∏à‡∏±‡∏î‡∏™‡∏£‡∏£: <span
                                        class="text-slate-100 font-semibold">6,325,000</span></span>
                                <span class="text-slate-400">‡πÄ‡∏ö‡∏¥‡∏Å‡∏à‡πà‡∏≤‡∏¢: <span
                                        class="text-orange-400 font-semibold">4,245,000</span></span>
                                <span class="text-slate-400">‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: <span
                                        class="text-amber-400 font-bold">2,080,000</span></span>
                            </div>
                        </div>
                    </div>
                    <div id="budget-personnel" class="budget-section">
                        <table class="w-full text-sm">
                            <thead>
                                <tr class="bg-slate-800/60 text-slate-400 text-xs uppercase tracking-wider">
                                    <th class="px-4 py-2 text-left min-w-[280px]">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
                                    <th class="px-4 py-2 text-center w-20">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                                    <th class="px-4 py-2 text-right w-28">‡∏á‡∏ö‡∏à‡∏±‡∏î‡∏™‡∏£‡∏£</th>
                                    <th class="px-4 py-2 text-right w-24">‡πÇ‡∏≠‡∏ô +/-</th>
                                    <th class="px-4 py-2 text-right w-28">‡πÄ‡∏ö‡∏¥‡∏Å‡∏à‡πà‡∏≤‡∏¢</th>
                                    <th class="px-4 py-2 text-right w-24">‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</th>
                                    <th class="px-4 py-2 text-right w-24">PO</th>
                                    <th class="px-4 py-2 text-right w-28 text-amber-400">‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="bg-slate-700/30 cursor-pointer" onclick="toggleCategory('cat-salary')">
                                    <td class="px-4 py-2 text-amber-400 font-medium"><i data-lucide="chevron-down"
                                            class="w-4 h-4 inline mr-1 collapse-icon" id="icon-cat-salary"></i><i
                                            data-lucide="folder" class="w-4 h-4 inline mr-2"></i>‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</td>
                                    <td class="px-4 py-2 text-center text-slate-300">135</td>
                                    <td class="px-4 py-2 text-right text-slate-100">5,800,000</td>
                                    <td class="px-4 py-2 text-right text-cyan-400">0</td>
                                    <td class="px-4 py-2 text-right text-orange-400">3,950,000</td>
                                    <td class="px-4 py-2 text-right text-cyan-400">0</td>
                                    <td class="px-4 py-2 text-right text-cyan-400">0</td>
                                    <td class="px-4 py-2 text-right text-amber-400 font-bold">1,850,000</td>
                                </tr>
                                <tr class="border-b border-slate-700/30 category-cat-salary" data-item-row>
                                    <td class="px-4 py-2 text-slate-300 pl-12">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡πÄ‡∏î‡∏¥‡∏°</td>
                                    <td class="px-2 py-2 text-center"><input type="number" value="120"
                                            class="w-16 px-2 py-1 bg-slate-700/50 border-0 rounded text-center text-slate-100 text-sm">
                                    </td>
                                    <td class="px-2 py-2 text-right"><input type="text" value="5,000,000"
                                            class="w-24 px-2 py-1 bg-slate-700/50 border-0 rounded text-right text-sm text-slate-100">
                                    </td>
                                    <td class="px-2 py-2 text-right"><input type="text" value="0"
                                            class="w-20 px-2 py-1 bg-slate-700/50 border-0 rounded text-right text-sm text-cyan-400">
                                    </td>
                                    <td class="px-2 py-2 text-right"><input type="text" value="3,500,000"
                                            class="w-24 px-2 py-1 bg-slate-700/50 border-0 rounded text-right text-sm text-orange-400">
                                    </td>
                                    <td class="px-2 py-2 text-right"><input type="text" value="0"
                                            class="w-20 px-2 py-1 bg-slate-700/50 border-0 rounded text-right text-sm text-cyan-400">
                                    </td>
                                    <td class="px-2 py-2 text-right"><input type="text" value="0"
                                            class="w-20 px-2 py-1 bg-slate-700/50 border-0 rounded text-right text-sm text-cyan-400">
                                    </td>
                                    <td class="px-4 py-2 text-right text-amber-400">1,500,000</td>
                                </tr>
                                <tr class="border-b border-slate-700/30 category-cat-salary" data-item-row>
                                    <td class="px-4 py-2 text-slate-300 pl-12">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡πÉ‡∏´‡∏°‡πà</td>
                                    <td class="px-2 py-2 text-center"><input type="number" value="15"
                                            class="w-16 px-2 py-1 bg-slate-700/50 border-0 rounded text-center text-slate-100 text-sm">
                                    </td>
                                    <td class="px-2 py-2 text-right"><input type="text" value="800,000"
                                            class="w-24 px-2 py-1 bg-slate-700/50 border-0 rounded text-right text-sm text-slate-100">
                                    </td>
                                    <td class="px-2 py-2 text-right"><input type="text" value="0"
                                            class="w-20 px-2 py-1 bg-slate-700/50 border-0 rounded text-right text-sm text-cyan-400">
                                    </td>
                                    <td class="px-2 py-2 text-right"><input type="text" value="450,000"
                                            class="w-24 px-2 py-1 bg-slate-700/50 border-0 rounded text-right text-sm text-orange-400">
                                    </td>
                                    <td class="px-2 py-2 text-right"><input type="text" value="0"
                                            class="w-20 px-2 py-1 bg-slate-700/50 border-0 rounded text-right text-sm text-cyan-400">
                                    </td>
                                    <td class="px-2 py-2 text-right"><input type="text" value="0"
                                            class="w-20 px-2 py-1 bg-slate-700/50 border-0 rounded text-right text-sm text-cyan-400">
                                    </td>
                                    <td class="px-4 py-2 text-right text-amber-400">350,000</td>
                                </tr>
                                <tr class="bg-slate-700/30 cursor-pointer" onclick="toggleCategory('cat-position')">
                                    <td class="px-4 py-2 text-amber-400 font-medium"><i data-lucide="chevron-down"
                                            class="w-4 h-4 inline mr-1 collapse-icon" id="icon-cat-position"></i><i
                                            data-lucide="folder" class="w-4 h-4 inline mr-2"></i>‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</td>
                                    <td class="px-4 py-2 text-center text-slate-300">35</td>
                                    <td class="px-4 py-2 text-right text-slate-100">525,000</td>
                                    <td class="px-4 py-2 text-right text-cyan-400">0</td>
                                    <td class="px-4 py-2 text-right text-orange-400">295,000</td>
                                    <td class="px-4 py-2 text-right text-cyan-400">0</td>
                                    <td class="px-4 py-2 text-right text-cyan-400">0</td>
                                    <td class="px-4 py-2 text-right text-amber-400 font-bold">230,000</td>
                                </tr>
                                <tr class="border-b border-slate-700/30 category-cat-position" data-item-row>
                                    <td class="px-4 py-2 text-slate-300 pl-12">‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£</td>
                                    <td class="px-2 py-2 text-center"><input type="number" value="5"
                                            class="w-16 px-2 py-1 bg-slate-700/50 border-0 rounded text-center text-slate-100 text-sm">
                                    </td>
                                    <td class="px-2 py-2 text-right"><input type="text" value="150,000"
                                            class="w-24 px-2 py-1 bg-slate-700/50 border-0 rounded text-right text-sm text-slate-100">
                                    </td>
                                    <td class="px-2 py-2 text-right"><input type="text" value="0"
                                            class="w-20 px-2 py-1 bg-slate-700/50 border-0 rounded text-right text-sm text-cyan-400">
                                    </td>
                                    <td class="px-2 py-2 text-right"><input type="text" value="85,000"
                                            class="w-24 px-2 py-1 bg-slate-700/50 border-0 rounded text-right text-sm text-orange-400">
                                    </td>
                                    <td class="px-2 py-2 text-right"><input type="text" value="0"
                                            class="w-20 px-2 py-1 bg-slate-700/50 border-0 rounded text-right text-sm text-cyan-400">
                                    </td>
                                    <td class="px-2 py-2 text-right"><input type="text" value="0"
                                            class="w-20 px-2 py-1 bg-slate-700/50 border-0 rounded text-right text-sm text-cyan-400">
                                    </td>
                                    <td class="px-4 py-2 text-right text-amber-400">65,000</td>
                                </tr>
                                <tr class="border-b border-slate-700/30 category-cat-position" data-item-row>
                                    <td class="px-4 py-2 text-slate-300 pl-12">‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£</td>
                                    <td class="px-2 py-2 text-center"><input type="number" value="30"
                                            class="w-16 px-2 py-1 bg-slate-700/50 border-0 rounded text-center text-slate-100 text-sm">
                                    </td>
                                    <td class="px-2 py-2 text-right"><input type="text" value="375,000"
                                            class="w-24 px-2 py-1 bg-slate-700/50 border-0 rounded text-right text-sm text-slate-100">
                                    </td>
                                    <td class="px-2 py-2 text-right"><input type="text" value="0"
                                            class="w-20 px-2 py-1 bg-slate-700/50 border-0 rounded text-right text-sm text-cyan-400">
                                    </td>
                                    <td class="px-2 py-2 text-right"><input type="text" value="210,000"
                                            class="w-24 px-2 py-1 bg-slate-700/50 border-0 rounded text-right text-sm text-orange-400">
                                    </td>
                                    <td class="px-2 py-2 text-right"><input type="text" value="0"
                                            class="w-20 px-2 py-1 bg-slate-700/50 border-0 rounded text-right text-sm text-cyan-400">
                                    </td>
                                    <td class="px-2 py-2 text-right"><input type="text" value="0"
                                            class="w-20 px-2 py-1 bg-slate-700/50 border-0 rounded text-right text-sm text-cyan-400">
                                    </td>
                                    <td class="px-4 py-2 text-right text-amber-400">165,000</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- ‡∏á‡∏ö‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô -->
                <div class="rounded-lg overflow-hidden border border-slate-700/50">
                    <div class="bg-gradient-to-r from-emerald-900/40 to-slate-800/40 px-4 py-3 cursor-pointer hover:bg-slate-700/50 transition-colors"
                        onclick="toggleExpenseType('budget-operating')">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-3">
                                <i data-lucide="chevron-down" class="w-5 h-5 text-emerald-400 collapse-icon rotated"
                                    id="icon-budget-operating"></i>
                                <i data-lucide="briefcase" class="w-5 h-5 text-emerald-400"></i>
                                <span class="text-lg font-semibold text-emerald-300">‡∏á‡∏ö‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô</span>
                                <span class="text-xs text-slate-500">(4 ‡∏´‡∏°‡∏ß‡∏î: ‡∏Ñ‡πà‡∏≤‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô, ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏™‡∏≠‡∏¢, ‡∏Ñ‡πà‡∏≤‡∏ß‡∏±‡∏™‡∏î‡∏∏,
                                    ‡∏Ñ‡πà‡∏≤‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏π‡∏õ‡πÇ‡∏†‡∏Ñ)</span>
                            </div>
                            <div class="flex items-center gap-6 text-sm">
                                <span class="text-slate-400">‡∏á‡∏ö‡∏à‡∏±‡∏î‡∏™‡∏£‡∏£: <span
                                        class="text-slate-100 font-semibold">1,500,000</span></span>
                                <span class="text-slate-400">‡πÄ‡∏ö‡∏¥‡∏Å‡∏à‡πà‡∏≤‡∏¢: <span
                                        class="text-orange-400 font-semibold">850,000</span></span>
                                <span class="text-slate-400">‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: <span
                                        class="text-amber-400 font-bold">650,000</span></span>
                            </div>
                        </div>
                    </div>
                    <div id="budget-operating" class="budget-section hidden"></div>
                </div>

                <!-- ‡∏á‡∏ö‡∏•‡∏á‡∏ó‡∏∏‡∏ô -->
                <div class="rounded-lg overflow-hidden border border-slate-700/50">
                    <div class="bg-gradient-to-r from-purple-900/40 to-slate-800/40 px-4 py-3 cursor-pointer hover:bg-slate-700/50 transition-colors"
                        onclick="toggleExpenseType('budget-investment')">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-3">
                                <i data-lucide="chevron-down" class="w-5 h-5 text-purple-400 collapse-icon rotated"
                                    id="icon-budget-investment"></i>
                                <i data-lucide="building" class="w-5 h-5 text-purple-400"></i>
                                <span class="text-lg font-semibold text-purple-300">‡∏á‡∏ö‡∏•‡∏á‡∏ó‡∏∏‡∏ô</span>
                                <span class="text-xs text-slate-500">(2 ‡∏´‡∏°‡∏ß‡∏î: ‡∏Ñ‡∏£‡∏∏‡∏†‡∏±‡∏ì‡∏ë‡πå, ‡∏™‡∏¥‡πà‡∏á‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á)</span>
                            </div>
                            <div class="flex items-center gap-6 text-sm">
                                <span class="text-slate-400">‡∏á‡∏ö‡∏à‡∏±‡∏î‡∏™‡∏£‡∏£: <span
                                        class="text-slate-100 font-semibold">5,000,000</span></span>
                                <span class="text-slate-400">‡πÄ‡∏ö‡∏¥‡∏Å‡∏à‡πà‡∏≤‡∏¢: <span
                                        class="text-orange-400 font-semibold">2,500,000</span></span>
                                <span class="text-slate-400">‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: <span
                                        class="text-amber-400 font-bold">2,500,000</span></span>
                            </div>
                        </div>
                    </div>
                    <div id="budget-investment" class="budget-section hidden"></div>
                </div>

                <!-- ‡∏á‡∏ö‡∏≠‡∏∏‡∏î‡∏´‡∏ô‡∏∏‡∏ô -->
                <div class="rounded-lg overflow-hidden border border-slate-700/50">
                    <div class="bg-gradient-to-r from-amber-900/40 to-slate-800/40 px-4 py-3 cursor-pointer hover:bg-slate-700/50 transition-colors"
                        onclick="toggleExpenseType('budget-subsidy')">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-3">
                                <i data-lucide="chevron-down" class="w-5 h-5 text-amber-400 collapse-icon rotated"
                                    id="icon-budget-subsidy"></i>
                                <i data-lucide="heart-handshake" class="w-5 h-5 text-amber-400"></i>
                                <span class="text-lg font-semibold text-amber-300">‡∏á‡∏ö‡∏≠‡∏∏‡∏î‡∏´‡∏ô‡∏∏‡∏ô</span>
                            </div>
                            <div class="flex items-center gap-6 text-sm">
                                <span class="text-slate-400">‡∏á‡∏ö‡∏à‡∏±‡∏î‡∏™‡∏£‡∏£: <span
                                        class="text-slate-100 font-semibold">800,000</span></span>
                                <span class="text-slate-400">‡πÄ‡∏ö‡∏¥‡∏Å‡∏à‡πà‡∏≤‡∏¢: <span
                                        class="text-orange-400 font-semibold">400,000</span></span>
                                <span class="text-slate-400">‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: <span
                                        class="text-amber-400 font-bold">400,000</span></span>
                            </div>
                        </div>
                    </div>
                    <div id="budget-subsidy" class="budget-section hidden"></div>
                </div>

                <!-- ‡∏á‡∏ö‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏≠‡∏∑‡πà‡∏ô -->
                <div class="rounded-lg overflow-hidden border border-slate-700/50">
                    <div class="bg-gradient-to-r from-rose-900/40 to-slate-800/40 px-4 py-3 cursor-pointer hover:bg-slate-700/50 transition-colors"
                        onclick="toggleExpenseType('budget-other')">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-3">
                                <i data-lucide="chevron-down" class="w-5 h-5 text-rose-400 collapse-icon rotated"
                                    id="icon-budget-other"></i>
                                <i data-lucide="more-horizontal" class="w-5 h-5 text-rose-400"></i>
                                <span class="text-lg font-semibold text-rose-300">‡∏á‡∏ö‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏≠‡∏∑‡πà‡∏ô</span>
                            </div>
                            <div class="flex items-center gap-6 text-sm">
                                <span class="text-slate-400">‡∏á‡∏ö‡∏à‡∏±‡∏î‡∏™‡∏£‡∏£: <span
                                        class="text-slate-100 font-semibold">500,000</span></span>
                                <span class="text-slate-400">‡πÄ‡∏ö‡∏¥‡∏Å‡∏à‡πà‡∏≤‡∏¢: <span
                                        class="text-orange-400 font-semibold">200,000</span></span>
                                <span class="text-slate-400">‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: <span
                                        class="text-amber-400 font-bold">300,000</span></span>
                            </div>
                        </div>
                    </div>
                    <div id="budget-other" class="budget-section hidden"></div>
                </div>

                <!-- Grand Total Footer -->
                <div class="bg-slate-700/60 rounded-lg px-4 py-3">
                    <div class="flex items-center justify-between">
                        <span class="text-lg font-bold text-slate-200">‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πâ‡∏ô (Total)</span>
                        <div class="flex items-center gap-8 text-sm">
                            <div class="text-center">
                                <div class="text-slate-400 text-xs">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</div>
                                <div class="text-slate-200 font-semibold">170</div>
                            </div>
                            <div class="text-center">
                                <div class="text-slate-400 text-xs">‡∏á‡∏ö‡∏à‡∏±‡∏î‡∏™‡∏£‡∏£</div>
                                <div class="text-slate-100 font-semibold">14,125,000</div>
                            </div>
                            <div class="text-center">
                                <div class="text-slate-400 text-xs">‡πÇ‡∏≠‡∏ô +/-</div>
                                <div class="text-cyan-400 font-semibold">0</div>
                            </div>
                            <div class="text-center">
                                <div class="text-slate-400 text-xs">‡πÄ‡∏ö‡∏¥‡∏Å‡∏à‡πà‡∏≤‡∏¢</div>
                                <div class="text-orange-400 font-semibold">8,195,000</div>
                            </div>
                            <div class="text-center">
                                <div class="text-slate-400 text-xs">‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</div>
                                <div class="text-cyan-400 font-semibold">0</div>
                            </div>
                            <div class="text-center">
                                <div class="text-slate-400 text-xs">PO</div>
                                <div class="text-cyan-400 font-semibold">0</div>
                            </div>
                            <div class="text-center">
                                <div class="text-slate-400 text-xs">‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</div>
                                <div class="text-amber-400 font-bold text-lg">5,930,000</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="flex justify-end gap-3 pt-6 mt-6 border-t border-slate-700">
                <button type="button"
                    class="inline-flex items-center gap-2 px-6 py-2.5 bg-slate-700 text-slate-100 rounded-lg font-medium border border-slate-600 hover:bg-slate-600 transition-all">
                    <i data-lucide="x" class="w-5 h-5"></i>
                    ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                </button>
                <button type="submit"
                    class="inline-flex items-center gap-2 px-6 py-2.5 bg-primary-600 text-white rounded-lg font-medium shadow-lg shadow-primary-500/25 hover:bg-primary-500 hover:scale-[1.02] active:scale-[0.98] transition-all">
                    <i data-lucide="save" class="w-5 h-5"></i>
                    ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                </button>
            </div>
        </div>

        <!-- Notes -->
        <div class="mt-8 bg-slate-900/30 border border-slate-800 rounded-lg p-6">
            <h3 class="text-sm font-semibold text-slate-400 mb-4 uppercase tracking-wide">üìù Option A3 Summary</h3>
            <ul class="text-sm text-slate-400 space-y-2 list-disc list-inside">
                <li><strong class="text-slate-200">UI Flow:</strong> Cascading Dropdown ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô ‚Üí ‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï ‚Üí
                    ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° ‚Üí ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</li>
                <li><strong class="text-slate-200">Hierarchy:</strong> 7 ‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô ‚Üí 10 ‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï ‚Üí 14 ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° ‚Üí 5
                    ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢ ‚Üí 0-5 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</li>
                <li><strong class="text-slate-200">Recording:</strong> 3-5 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</li>
                <li><strong class="text-slate-200">Features:</strong> Step indicator, collapsible sections, color-coded
                    expense types</li>
            </ul>
        </div>
    </div>

    <script>
        lucide.createIcons();

        function toggleExpenseType(sectionId) {
            const icon = document.getElementById('icon-' + sectionId);
            const section = document.getElementById(sectionId);
            icon.classList.toggle('rotated');
            section.classList.toggle('hidden');
        }

        function toggleCategory(categoryId) {
            const icon = document.getElementById('icon-' + categoryId);
            const rows = document.querySelectorAll('.category-' + categoryId);
            icon.classList.toggle('rotated');
            rows.forEach(row => row.classList.toggle('category-hidden'));
        }

        function updateProducts() { console.log('Update products based on plan'); }
        function updateActivities() { console.log('Update activities based on product'); }
        function updateExpenseTypes() { console.log('Update expense types based on activity'); }
    </script>
</body>

</html>