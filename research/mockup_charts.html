<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Charts Mockup - HR Budget</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Noto Sans Thai', 'sans-serif'],
                    },
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            900: '#0c4a6e',
                        }
                    }
                }
            }
        }
    </script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

    <style>
        body {
            background-color: #0f172a;
            /* Slate 900 */
            color: #f8fafc;
            /* Slate 50 */
        }

        .glass-card {
            background: rgba(30, 41, 59, 0.7);
            /* Slate 800 with opacity */
            backdrop-filter: blur(12px);
            border: 1px solid rgba(51, 65, 85, 0.5);
            /* Slate 700 */
        }
    </style>
</head>

<body
    class="min-h-screen p-8 bg-[url('https://images.unsplash.com/photo-1557683316-973673baf926?q=80&w=2029&auto=format&fit=crop')] bg-cover bg-fixed relative">

    <!-- Overlay -->
    <div class="absolute inset-0 bg-slate-900/90 z-0"></div>

    <div class="relative z-10 max-w-7xl mx-auto space-y-8">

        <!-- Header -->
        <div class="flex items-center justify-between">
            <h1 class="text-3xl font-bold flex items-center gap-3">
                <div class="p-2 bg-primary-500/10 rounded-xl border border-primary-500/20">
                    <i data-lucide="pie-chart" class="w-8 h-8 text-primary-400"></i>
                </div>
                Budget Analytics
                <span class="text-sm font-normal text-slate-400 mt-2 ml-2">ปีงบประมาณ 2568</span>
            </h1>

            <div class="flex gap-2">
                <button
                    class="px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-slate-300 hover:bg-slate-700 transition-colors flex items-center gap-2">
                    <i data-lucide="calendar" class="w-4 h-4"></i>
                    Last 30 Days
                </button>
                <button
                    class="px-4 py-2 bg-primary-600 text-white rounded-lg text-sm font-medium hover:bg-primary-500 transition-shadow shadow-lg shadow-primary-500/20 flex items-center gap-2">
                    <i data-lucide="download" class="w-4 h-4"></i>
                    Export Report
                </button>
            </div>
        </div>

        <!-- Charts Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

            <!-- 1. Main Trend Chart (Line) -->
            <div class="lg:col-span-2 glass-card rounded-2xl p-6 shadow-xl">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h2 class="text-lg font-semibold text-slate-100 flex items-center gap-2">
                            <i data-lucide="trending-up" class="w-5 h-5 text-primary-400"></i>
                            แนวโน้มการเบิกจ่าย (Disbursement Trend)
                        </h2>
                        <p class="text-xs text-slate-500 mt-1">เปรียบเทียบการเบิกจ่ายจริง vs เป้าหมายสะสม</p>
                    </div>
                </div>
                <div class="h-[300px] w-full">
                    <canvas id="trendChart"></canvas>
                </div>
            </div>

            <!-- 2. Category Donut Chart -->
            <div class="glass-card rounded-2xl p-6 shadow-xl">
                <div class="mb-6">
                    <h2 class="text-lg font-semibold text-slate-100 flex items-center gap-2">
                        <i data-lucide="layout-grid" class="w-5 h-5 text-emerald-400"></i>
                        สัดส่วนตามหมวดหมู่
                    </h2>
                    <p class="text-xs text-slate-500 mt-1">Budget Distribution by Category</p>
                </div>
                <div class="h-[250px] flex justify-center relative">
                    <canvas id="categoryChart"></canvas>
                    <!-- Center label -->
                    <div class="absolute inset-0 flex flex-col items-center justify-center pointer-events-none">
                        <span class="text-3xl font-bold text-white">45%</span>
                        <span class="text-xs text-slate-400">Total Spent</span>
                    </div>
                </div>

                <!-- Custom Legend -->
                <div class="grid grid-cols-2 gap-2 mt-6">
                    <div class="flex items-center gap-2 text-xs text-slate-400">
                        <div class="w-2 h-2 rounded-full bg-blue-500"></div> งบดำเนินงาน
                    </div>
                    <div class="flex items-center gap-2 text-xs text-slate-400">
                        <div class="w-2 h-2 rounded-full bg-emerald-500"></div> งบลงทุน
                    </div>
                    <div class="flex items-center gap-2 text-xs text-slate-400">
                        <div class="w-2 h-2 rounded-full bg-orange-500"></div> งบบุคลากร
                    </div>
                    <div class="flex items-center gap-2 text-xs text-slate-400">
                        <div class="w-2 h-2 rounded-full bg-purple-500"></div> งบรายจ่ายอื่น
                    </div>
                </div>
            </div>

            <!-- 3. Comparison Bar Chart -->
            <div class="lg:col-span-3 glass-card rounded-2xl p-6 shadow-xl">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h2 class="text-lg font-semibold text-slate-100 flex items-center gap-2">
                            <i data-lucide="bar-chart-2" class="w-5 h-5 text-orange-400"></i>
                            เปรียบเทียบรายแผนก (Department Comparison)
                        </h2>
                    </div>
                    <select
                        class="bg-slate-800 border border-slate-700 text-xs text-slate-300 rounded-lg px-2 py-1 focus:outline-none focus:border-primary-500">
                        <option>Q1 2025</option>
                        <option>Q2 2025</option>
                        <option>Q3 2025</option>
                        <option>Q4 2025</option>
                    </select>
                </div>
                <div class="h-[300px] w-full">
                    <canvas id="barChart"></canvas>
                </div>
            </div>

        </div>
    </div>

    <!-- Chart Logic -->
    <script>
        // Initialize Lucide Icons
        lucide.createIcons();

        // Global Chart Defaults for Dark Theme
        Chart.defaults.color = '#94a3b8';
        Chart.defaults.font.family = "'Noto Sans Thai', sans-serif";
        Chart.defaults.scale.grid.color = 'rgba(51, 65, 85, 0.3)'; // Slate 700 with opacity
        Chart.defaults.plugins.tooltip.backgroundColor = 'rgba(15, 23, 42, 0.9)';
        Chart.defaults.plugins.tooltip.padding = 12;
        Chart.defaults.plugins.tooltip.cornerRadius = 8;
        Chart.defaults.plugins.tooltip.titleFont = { size: 14, family: "'Noto Sans Thai', sans-serif" };

        // 1. Trend Chart
        const trendCtx = document.getElementById('trendChart').getContext('2d');

        // Gradient Fill
        const gradientBlue = trendCtx.createLinearGradient(0, 0, 0, 400);
        gradientBlue.addColorStop(0, 'rgba(14, 165, 233, 0.5)'); // Primary 500
        gradientBlue.addColorStop(1, 'rgba(14, 165, 233, 0.0)');

        new Chart(trendCtx, {
            type: 'line',
            data: {
                labels: ['ต.ค.', 'พ.ย.', 'ธ.ค.', 'ม.ค.', 'ก.พ.', 'มี.ค.', 'เม.ย.', 'พ.ค.', 'มิ.ย.', 'ก.ค.', 'ส.ค.', 'ก.ย.'],
                datasets: [
                    {
                        label: 'เบิกจ่ายจริง (Actual)',
                        data: [5, 12, 15, 25, 30, 45, 48, null, null, null, null, null],
                        borderColor: '#0ea5e9', // Primary 500
                        backgroundColor: gradientBlue,
                        borderWidth: 3,
                        pointBackgroundColor: '#0f172a',
                        pointBorderColor: '#0ea5e9',
                        pointBorderWidth: 2,
                        pointRadius: 4,
                        pointHoverRadius: 6,
                        fill: true,
                        tension: 0.4
                    },
                    {
                        label: 'เป้าหมายสะสม (Target)',
                        data: [8, 16, 25, 33, 41, 50, 58, 66, 75, 83, 91, 100],
                        borderColor: '#475569', // Slate 600
                        borderDash: [5, 5],
                        borderWidth: 2,
                        pointRadius: 0,
                        fill: false,
                        tension: 0
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                        align: 'end',
                        labels: { usePointStyle: true, boxWidth: 6 }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { borderDash: [2, 4] }
                    },
                    x: {
                        grid: { display: false }
                    }
                }
            }
        });

        // 2. Category Donut Chart
        const catCtx = document.getElementById('categoryChart').getContext('2d');
        new Chart(catCtx, {
            type: 'doughnut',
            data: {
                labels: ['งบดำเนินงาน', 'งบลงทุน', 'งบบุคลากร', 'งบรายจ่ายอื่น'],
                datasets: [{
                    data: [40, 25, 20, 15],
                    backgroundColor: [
                        '#3b82f6', // Blue
                        '#10b981', // Emerald
                        '#f97316', // Orange
                        '#a855f7'  // Purple
                    ],
                    borderWidth: 0,
                    hoverOffset: 10
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '75%',
                plugins: {
                    legend: { display: false } // Custom legend in HTML
                }
            }
        });

        // 3. Bar Chart
        const barCtx = document.getElementById('barChart').getContext('2d');
        new Chart(barCtx, {
            type: 'bar',
            data: {
                labels: ['สำนักปลัด', 'กองคลัง', 'กองช่าง', 'กองการศึกษา', 'กองสาธารณสุข', 'กองสวัสดิการ'],
                datasets: [{
                    label: 'งบจัดสรร',
                    data: [100, 80, 120, 90, 60, 50],
                    backgroundColor: '#1e293b', // Slate 800
                    borderRadius: 4,
                    barPercentage: 0.6
                }, {
                    label: 'เบิกจ่ายแล้ว',
                    data: [45, 60, 30, 70, 40, 25],
                    backgroundColor: '#f97316', // Orange
                    borderRadius: 4,
                    barPercentage: 0.6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'top', align: 'end', labels: { usePointStyle: true, boxWidth: 6 } }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { borderDash: [2, 4] }
                    },
                    x: {
                        grid: { display: false }
                    }
                }
            }
        });
    </script>
</body>

</html>